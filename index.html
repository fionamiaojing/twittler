<!DOCTYPE html>
<html>
  <head>
    <title>Twittler</title>
    <link rel="stylesheet" href="assets/stylesheets/main.css">
    <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Playfair+Display">
    <script src="jquery.js"></script>
    <script src="data_generator.js"></script>
  </head>
  <body>
    <header class='primary-header group'>
      <img src="assets/images/twittler_icon.png" alt="Twittler Icon">
      <h1>Twittler</h1>
    </header>
    <section class="content group">
      <script>
        $(document).ready(function(){
          var $content= $('.content');
          $content.html('');

          function timeFormatter(time){
            if (time.getHours()>=12){
                var hour = parseInt(time.getHours()) - 12;
                var amPm = "PM";
            } else {
                var hour = time.getHours();
                var amPm = "AM";
            }
            return hour + ":" + time.getMinutes() + " " + amPm + " " + time.getMonth() + "/" + time.getDate() + "/" + time.getFullYear();
          };

          var index = streams.home.length - 1;
          while(index >= 0){
            var tweet = streams.home[index];
            var $tweet = $('<div></div>');
            var createTime = timeFormatter(tweet.created_at);

            $tweet.text("@" + tweet.user + ': \n' + tweet.message + '\n' + createTime);
            $tweet.html($tweet.html().replace(/\n/g,'<br/>'));
            $tweet.addClass('button');
            $tweet.appendTo($content);
            index -= 1;
          }
        });
      </script>
    </section>
  </body>
</html>
